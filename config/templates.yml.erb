aws:
  name: <%= name %>----{{user `image_name`}}
  type: amazon-ebs
  access_key: <%= cloud.key %>
  secret_key: <%= cloud.secret %>
  region: <%= cloud.entry_point %>
  instance_type: <%= CloudConductor::Config.packer.aws_instance_type %>
  ami_name: '{{user `pattern_name`}}-{{user `image_name`}}-<%= os %>-{{uuid}}'
  ssh_username: <%= ssh_username %>
  source_ami: <%= source_image %>
  tags:
    Name: '{{user `pattern_name`}}-{{user `image_name`}}-<%= os %>'
  launch_block_device_mappings:
    - device_name: /dev/sda1
      delete_on_termination: true

openstack:
  name: <%= name %>----{{user `image_name`}}
  type: openstack
  username: <%= cloud.key %>
  password: <%= cloud.secret %>
  project: <%= cloud.tenant_name %>
  provider: <%= cloud.entry_point %>v2.0/tokens
  region: RegionOne
  flavor: <%= CloudConductor::Config.packer.openstack_flavor_id %>
  image_name: '{{user `pattern_name`}}-{{user `image_name`}}-<%= os %>-{{uuid}}'
  source_image: <%= source_image %>
  ssh_username: <%= ssh_username %>
  use_floating_ip: true
  floating_ip_pool: public
